Introduction: 
The following project was created using data from the National Survey on Drug Use and Health (NSDUH) (2014), which is a U.S. national survey conducted in all 50 states and the District of Columbia to evaluate substance use and mental health.  The two primary questions under investigation were 1) what is the association between depression in the last year according to race/ethnicity among individuals over 18 years of age in the NSDUH 2014 data set and 2) can we predict depression using selected variables from the dataset. To assess the first question, a logistic regression analysis was used. Logistic regression is best suited for binary outcomes, which in this case was depression in the last year (yes/no), and can handle continuous and categorical predictors. For prediction analyses, k-nearest-neighbors (KNN) and random forest were used. KNN is a machine learning algorithm that finds the k nearest points and takes the average of said points for our estimate of interest. A strength of KNN is that it is rather flexible and therefore can suitably capture the true conditional probability. Random forest is another machine learning algorithm that builds on decision trees by averaging multiple decision trees. As initial data exploration, I produced counts of my dependent and independent variables, recoding several of them (e.g., educational status, age). I also created a bar graph to visualize the count of depression in the last year by race/ethnicity. It is clear that the count of depression is highest among White individuals. This is due to the fact that this a predominantly White sample (60.7%). Lastly, a table 1 has been produced showing basic demographics of the sample by race/ethnicity. 

Results: 
I performed multiple logistic regression analyses with race/ethnicity as a single predictor, race/ethnicity as a dummy variable, and a fully-adjusted logistic regression model. Covariates in the fully-adjusted mode included, age, sex, educational status, income, whether someone worked in the past year, reporting lifetime anxiety, reporting lifetime high blood pressure, number of days consumed alcohol in the past 30 days, and number of days smoked cigarettes in the past 30 days. Two forest plots were produced to show the odds of having depression in the last year across the different racial/ethnic groups. With White as the referent group, the first logistic regression analysis revealed that Native-American identifying individuals had an odds ratio 1.66 followed by non-Hispanic Black/African American individuals (1.41). Multiracial individuals had the lowest odds at 0.61. After fully adjusting for the above covariates, Native-Americans remained at highest risk of having depression in the last year with an odds ratio of 1.70. However, Hispanic individuals were found to have the next highest odds (1.36) followed by Black/African American individuals (1.11). These findings are mostly aligned with the literature on depression across minoritized groups. 
KNN and random forest were utilized to predict depression using the covariates adjusted for in the logistic regression model. To preprocess the data for KNN, the nearzerovar function was utilized to remove variables with zero variance (few unique values compared to sample or large ratio for most common to second most common value). A matrix graph entitled Zero Variance Predictors was produced to identify the most important predictors. Darker colors represent greater importance and lighter colors lesser importance. We see that important predictors are scattered all over. The number of neighbors tried in training our KNN algorithm ranged from 2 to 15. A graph was produced to show accuracy for number of neighbors tested. The graph shows us that the accuracy continues to increase as the number of neighbors increases. A confusion matrix reveals that the accuracy of this model is at 83.5%, which is relatively strong. The specificity or ability to not predict a certain class when it is not that class is also strong at 97.5%. However, the sensitivity of this model is poor at 17.1%. For random forest, the range for number of variables to try before splitting was from 1 through 10. Another graph was produced to show the accuracy of the model based on mtry. This value peaks at 1 and then begins to decrease. Our model ends up with a better accuracy than KNN at 85.3%, but a much weaker sensitivity. The reason for this may be because random forest is better able to handle categorical variables, which were the only predictors selected for this analysis. An importance figure for the random forest analysis was also created. It suggests a more even distribution of important predictors than the previous matrix. 

Conclusion: 
This analysis indicates that Native-American followed by Hispanic and Black individuals are disproportionately affected by depression. These findings are unsurprising given that these racial/ethnic groups face structural disadvantage in education, occupation, health insurance, housing, and food security. Machine learning algorithms utilized here suggests that the predictors of age, sex, educational status, income, whether someone worked in the past year, reporting lifetime anxiety, and reporting lifetime high blood pressure can accurately predict depression. Random forest was most adept at accurately predicting depression. This is most likely due to its flexibility with categorical variables. A limitation of this analysis is the small sample size. In the future, I would hope to work with a majority minority sample. Some additional areas for future analysis include running an ensemble, further preprocessing the data (e.g., through correlation, removing outliers), imputing missing data, and running KNN with more neighbors. 

References: 

United States Department of Health and Human Services. Substance Abuse and Mental Health Services Administration. Center for Behavioral Health Statistics and Quality. National Survey on Drug Use and Health, 2014. Inter-university Consortium for Political and Social Research [distributor], 2016-03-22. https://doi.org/10.3886/ICPSR36361.v1

Appendix: 
![Picture1](https://user-images.githubusercontent.com/112512832/208701732-0775a4af-84f3-455a-9731-97cfe4f433ac.png)
![Picture2](https://user-images.githubusercontent.com/112512832/208701734-9424ae6c-1df5-4da5-9fa8-c50d414bc0ea.png)
![Picture3](https://user-images.githubusercontent.com/112512832/208701738-97c7c707-d826-4b73-90de-c32b2b468c60.png)
![Picture4](https://user-images.githubusercontent.com/112512832/208701740-0cc78fdc-3b95-4316-b23a-5de8e422994a.png)
![Picture5](https://user-images.githubusercontent.com/112512832/208701743-c521d60b-ab86-4c98-b855-0656969989e0.png)
![Picture6](https://user-images.githubusercontent.com/112512832/208701746-a5280cf7-2a28-4d80-953a-52f57f913644.png)
![Picture7](https://user-images.githubusercontent.com/112512832/208701747-3bd287f1-acd5-45e2-ba6d-ef16dd3877eb.png)